{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/hp/source/repos/final-wiki-page/kv-wiki-app/app/bolumler/page.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\nconst Bolumler = () => {\r\n  const [videos, setVideos] = useState([]);\r\n  const [selectedVideo, setSelectedVideo] = useState(null); // Seçilen videoyu tutmak için state\r\n  const [watchedVideos, setWatchedVideos] = useState([]); // İzlenen videoları takip etmek için\r\n  const [currentVideoIndex, setCurrentVideoIndex] = useState(null); // Geçerli videonun index'i\r\n  const API_KEY = \"AIzaSyBJWIiiFONCriad3-ZREyXCa_aiYa0vicU\";\r\n  const PLAYLIST_ID = \"PLN6a-WhvxvGJEdiaoCuF3wAHi5TL9Tif9\";\r\n\r\n  useEffect(() => {\r\n    const fetchVideos = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `https://www.googleapis.com/youtube/v3/playlistItems?part=snippet&maxResults=50&playlistId=${PLAYLIST_ID}&key=${API_KEY}`\r\n        );\r\n        const data = await response.json();\r\n        setVideos(data.items);\r\n      } catch (error) {\r\n        console.error(\"Error fetching videos:\", error);\r\n      }\r\n    };\r\n\r\n    fetchVideos();\r\n  }, []);\r\n\r\n  const handleVideoClick = (videoId, index) => {\r\n    setSelectedVideo(videoId);\r\n    setCurrentVideoIndex(index); // Videonun index'ini güncelle\r\n\r\n    // Eğer video izlenmemişse, izlenen videolar listesine ekle\r\n    if (!watchedVideos.includes(index)) {\r\n      setWatchedVideos([...watchedVideos, index]);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (currentVideoIndex < videos.length - 1) {\r\n      const nextIndex = currentVideoIndex + 1;\r\n      setSelectedVideo(videos[nextIndex].snippet.resourceId.videoId);\r\n      setCurrentVideoIndex(nextIndex);\r\n\r\n      // Eğer video izlenmemişse, izlenen videolar listesine ekle\r\n      if (!watchedVideos.includes(nextIndex)) {\r\n        setWatchedVideos([...watchedVideos, nextIndex]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePrevious = () => {\r\n    if (currentVideoIndex > 0) {\r\n      const prevIndex = currentVideoIndex - 1;\r\n      setSelectedVideo(videos[prevIndex].snippet.resourceId.videoId);\r\n      setCurrentVideoIndex(prevIndex);\r\n\r\n      // Eğer video izlenmemişse, izlenen videolar listesine ekle\r\n      if (!watchedVideos.includes(prevIndex)) {\r\n        setWatchedVideos([...watchedVideos, prevIndex]);\r\n      }\r\n    }\r\n  };\r\n\r\n  const toggleWatchedStatus = (index) => {\r\n    if (watchedVideos.includes(index)) {\r\n      // Eğer video izlenmişse, izlenmedik olarak işaretle\r\n      setWatchedVideos(watchedVideos.filter((videoIndex) => videoIndex !== index));\r\n    } else {\r\n      // Eğer video izlenmemişse, izlenmiş olarak işaretle\r\n      setWatchedVideos([...watchedVideos, index]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 bg-fixed bg-cover bg-center bg-[url('../public/korcancay.jpg')] h-screen\">\r\n      <h1 className=\"text-2xl font-bold text-indigo-900 mb-6\">Bölümler</h1>\r\n\r\n      {/* Seçilen video oynatıcı */}\r\n      {selectedVideo && (\r\n        <div className=\"mt-8 mb-4\">\r\n          <h2 className=\"text-xl font-semibold text-indigo-900 mb-4\">\r\n            {currentVideoIndex !== null && (\r\n              <span className=\"text-blue-600\">Oynatılıyor: </span>\r\n            )}\r\n            {videos[currentVideoIndex]?.snippet.title}\r\n          </h2>\r\n          <div className=\"w-full max-w-4xl mx-auto h-[300px] mb-60\">\r\n            <iframe\r\n              width=\"100%\"\r\n              height=\"500\"\r\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\r\n              title=\"Video\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"space-y-4 mt-10 mb-16\">\r\n        {videos.map((video, index) => (\r\n          <div\r\n            key={video.id}\r\n            className={`flex items-center space-x-4 p-2 border rounded bg-white cursor-pointer ${\r\n              watchedVideos.includes(index) ? \"bg-green-200\" : \"\"\r\n            } ${currentVideoIndex === index ? \"bg-blue-200\" : \"\"}`}\r\n            onClick={() => handleVideoClick(video.snippet.resourceId.videoId, index)}\r\n          >\r\n            <div className=\"w-16 h-9 bg-gray-300\">\r\n              <img\r\n                src={video.snippet.thumbnails.medium.url}\r\n                alt={video.snippet.title}\r\n                className=\"w-full h-full object-cover\"\r\n              />\r\n            </div>\r\n            <div className=\"flex-1\">\r\n  <h2 className=\"text-lg font-semibold\">\r\n    {video.snippet.title}\r\n    {/* Oynatılıyor yazısını entegre ediyoruz */}\r\n    {currentVideoIndex === index && (\r\n      <span className=\"text-blue-600 ml-2\">(Oynatılıyor)</span> // Oynatılıyor yazısı\r\n    )}\r\n  </h2>\r\n  {watchedVideos.includes(index) ? (\r\n    <span className=\"text-sm text-gray-500\">(İzlendi)</span>\r\n  ) : (\r\n    <span className=\"text-sm text-gray-500\">(İzlenmedi)</span>\r\n  )}\r\n</div>\r\n\r\n            {/* \"İzle\" butonu, oynatıcıda video izleniyorsa gizlenecek */}\r\n            {currentVideoIndex !== index && (\r\n              <button\r\n                className=\"bg-blue-500 text-white px-4 py-2 rounded\"\r\n                onClick={(e) => {\r\n                  e.stopPropagation(); \r\n                  toggleWatchedStatus(index);\r\n                }}\r\n              >\r\n                {watchedVideos.includes(index) ? \"İzlenmedi Yap\" : \"İzlendi Yap\"}\r\n              </button>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Önceki ve Sonraki Bölüm Butonları */}\r\n      {selectedVideo && (\r\n        <div className=\"flex justify-between mt-4 fixed bottom-0 left-0 right-0 p-4 bg-white shadow-md\">\r\n          <button\r\n            onClick={handlePrevious}\r\n            className=\"bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 disabled:bg-gray-300\"\r\n            disabled={currentVideoIndex === 0}\r\n          >\r\n            Önceki Bölüm\r\n          </button>\r\n          <button\r\n            onClick={handleNext}\r\n            className=\"bg-gray-700 text-white px-4 py-2 rounded hover:bg-gray-600 disabled:bg-gray-300\"\r\n            disabled={currentVideoIndex === videos.length - 1}\r\n          >\r\n            Sonraki Bölüm\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bolumler;\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAIA,MAAM,WAAW;IACf,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACvC,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,oCAAoC;IAC9F,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE,GAAG,qCAAqC;IAC7F,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,OAAO,2BAA2B;IAC7F,MAAM,UAAU;IAChB,MAAM,cAAc;IAEpB,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,cAAc;YAClB,IAAI;gBACF,MAAM,WAAW,MAAM,MACrB,CAAC,0FAA0F,EAAE,YAAY,KAAK,EAAE,SAAS;gBAE3H,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,UAAU,KAAK,KAAK;YACtB,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,0BAA0B;YAC1C;QACF;QAEA;IACF,GAAG,EAAE;IAEL,MAAM,mBAAmB,CAAC,SAAS;QACjC,iBAAiB;QACjB,qBAAqB,QAAQ,8BAA8B;QAE3D,2DAA2D;QAC3D,IAAI,CAAC,cAAc,QAAQ,CAAC,QAAQ;YAClC,iBAAiB;mBAAI;gBAAe;aAAM;QAC5C;IACF;IAEA,MAAM,aAAa;QACjB,IAAI,oBAAoB,OAAO,MAAM,GAAG,GAAG;YACzC,MAAM,YAAY,oBAAoB;YACtC,iBAAiB,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO;YAC7D,qBAAqB;YAErB,2DAA2D;YAC3D,IAAI,CAAC,cAAc,QAAQ,CAAC,YAAY;gBACtC,iBAAiB;uBAAI;oBAAe;iBAAU;YAChD;QACF;IACF;IAEA,MAAM,iBAAiB;QACrB,IAAI,oBAAoB,GAAG;YACzB,MAAM,YAAY,oBAAoB;YACtC,iBAAiB,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO;YAC7D,qBAAqB;YAErB,2DAA2D;YAC3D,IAAI,CAAC,cAAc,QAAQ,CAAC,YAAY;gBACtC,iBAAiB;uBAAI;oBAAe;iBAAU;YAChD;QACF;IACF;IAEA,MAAM,sBAAsB,CAAC;QAC3B,IAAI,cAAc,QAAQ,CAAC,QAAQ;YACjC,oDAAoD;YACpD,iBAAiB,cAAc,MAAM,CAAC,CAAC,aAAe,eAAe;QACvE,OAAO;YACL,oDAAoD;YACpD,iBAAiB;mBAAI;gBAAe;aAAM;QAC5C;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;0BAA0C;;;;;;YAGvD,+BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;;4BACX,sBAAsB,sBACrB,8OAAC;gCAAK,WAAU;0CAAgB;;;;;;4BAEjC,MAAM,CAAC,kBAAkB,EAAE,QAAQ;;;;;;;kCAEtC,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BACC,OAAM;4BACN,QAAO;4BACP,KAAK,CAAC,8BAA8B,EAAE,eAAe;4BACrD,OAAM;4BACN,aAAY;4BACZ,OAAM;4BACN,eAAe;;;;;;;;;;;;;;;;;0BAMvB,8OAAC;gBAAI,WAAU;0BACZ,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,8OAAC;wBAEC,WAAW,CAAC,uEAAuE,EACjF,cAAc,QAAQ,CAAC,SAAS,iBAAiB,GAClD,CAAC,EAAE,sBAAsB,QAAQ,gBAAgB,IAAI;wBACtD,SAAS,IAAM,iBAAiB,MAAM,OAAO,CAAC,UAAU,CAAC,OAAO,EAAE;;0CAElE,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCACC,KAAK,MAAM,OAAO,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG;oCACxC,KAAK,MAAM,OAAO,CAAC,KAAK;oCACxB,WAAU;;;;;;;;;;;0CAGd,8OAAC;gCAAI,WAAU;;kDACzB,8OAAC;wCAAG,WAAU;;4CACX,MAAM,OAAO,CAAC,KAAK;4CAEnB,sBAAsB,uBACrB,8OAAC;gDAAK,WAAU;0DAAqB;;;;;qDAAqB,qBAAqB;;;;;;;oCAGlF,cAAc,QAAQ,CAAC,uBACtB,8OAAC;wCAAK,WAAU;kDAAwB;;;;;6DAExC,8OAAC;wCAAK,WAAU;kDAAwB;;;;;;;;;;;;4BAK/B,sBAAsB,uBACrB,8OAAC;gCACC,WAAU;gCACV,SAAS,CAAC;oCACR,EAAE,eAAe;oCACjB,oBAAoB;gCACtB;0CAEC,cAAc,QAAQ,CAAC,SAAS,kBAAkB;;;;;;;uBArClD,MAAM,EAAE;;;;;;;;;;YA6ClB,+BACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,SAAS;wBACT,WAAU;wBACV,UAAU,sBAAsB;kCACjC;;;;;;kCAGD,8OAAC;wBACC,SAAS;wBACT,WAAU;wBACV,UAAU,sBAAsB,OAAO,MAAM,GAAG;kCACjD;;;;;;;;;;;;;;;;;;AAOX;uCAEe"}},
    {"offset": {"line": 267, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}